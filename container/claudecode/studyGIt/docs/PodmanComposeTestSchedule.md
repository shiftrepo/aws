# Docker コマンドシミュレーション Podman-Compose テストスケジュール

## テスト目的
GitPlayground アプリケーションの Docker コマンドシミュレーション機能を確実に検証し、本番環境での安定動作を保証するためのテストスケジュールを定義します。

## テスト環境
- **ホスト環境**: Linux (CentOS/RHEL 9)
- **コンテナ化ツール**: Podman
- **オーケストレーション**: podman-compose
- **テストブラウザ**: Chrome, Firefox
- **コマンド**: `podman-compose up --build`

## テストスケジュール概要

| タイミング | テスト内容 | 担当者 | 報告先 |
| -------- | -------- | ----- | ----- |
| 毎日の実装作業後 | 基本機能確認テスト | 実装担当者 | GitHub Issue #48 |
| 週2回（水・金） | 詳細機能テスト | テスト担当者 | GitHub Issue #48 + ScrumMaster1 |
| PR作成時 | 完全テストスイート | 実装担当者 + レビュアー | PR コメント |
| リリース前 | 統合テスト | 全チーム | チームミーティング |

## 毎日の実装作業後テスト（基本テスト）

**頻度**: 毎日の実装作業完了後に必須

**実行コマンド**:
```bash
podman-compose up --build
```

**テスト項目**:
1. **ビルド確認**: アプリケーションが正常にビルドされるか
2. **起動確認**: コンテナが正常に起動するか
3. **アクセス確認**: http://localhost:3000 にアクセスして表示されるか
4. **Docker タブ確認**: Docker メニューが正常に表示されるか
5. **基本コマンド動作確認**:
   - `docker ps` - コンテナ一覧表示
   - `docker images` - イメージ一覧表示
   - `docker help` - ヘルプメッセージ表示
6. **ターミナル表示確認**: コマンド履歴が正しく表示されるか

**所要時間**: 約10分

**報告方法**: GitHub Issue #48 にコメント
- テスト実施日時
- テスト結果（成功/失敗）
- 失敗した場合はエラーメッセージのスクリーンショット

## 週2回の詳細テスト（中間テスト）

**頻度**: 週2回（水・金）

**実行コマンド**:
```bash
podman-compose down -v  # ボリュームも含めて削除
podman-compose up --build
```

**テスト項目**:
1. **基本テストの全項目**
2. **レベル別コマンドテスト**:
   - レベル1: `docker run`, `docker start`, `docker stop`
   - レベル2: `docker pull`, `docker rm`, `docker rmi`, `docker logs`
   - レベル3: `docker build`, `docker network`, `docker volume`, `docker exec`
   - レベル4: `docker compose up`, `docker compose down`
3. **エラーケーステスト**:
   - 存在しないコンテナ操作
   - 存在しないイメージ操作
   - 不正なコマンド構文
4. **UI機能テスト**:
   - レベルアップ機能
   - クイックアクションボタン
   - コマンド履歴表示
5. **Docker状態の永続性テスト**:
   - タブ切り替え後の状態維持確認
   - コマンドによる状態変更の反映

**所要時間**: 約30分

**報告方法**: 
- GitHub Issue #48 に詳細テストレポート
- ScrumMaster1 に直接メール/メッセージでサマリー報告

## PR作成時の完全テスト

**頻度**: Pull Request 作成時

**実行コマンド**:
```bash
podman-compose down -v
podman-compose up --build
```

**テスト項目**:
1. **中間テストの全項目**
2. **クロスブラウザテスト**:
   - Chrome
   - Firefox
   - (可能であれば) Safari
3. **レスポンシブデザインテスト**:
   - デスクトップ (1920x1080)
   - ノートPC (1366x768)
   - タブレット (768x1024)
   - モバイル (375x667)
4. **パフォーマンステスト**:
   - 大量のコマンド連続実行
   - 表示速度の確認
5. **統合テスト**:
   - DockerVisualizer との連携
   - DockerGuide との連携
6. **アクセシビリティテスト**:
   - キーボードのみでの操作
   - コントラスト比の確認

**所要時間**: 約1時間

**報告方法**:
- PR 説明欄に完全テストレポート添付
- 失敗項目と解決策を明記
- スクリーンショットを添付

## リリース前の統合テスト

**頻度**: 主要機能完成後、リリース前

**実行環境**:
- 開発環境 (podman-compose)
- ステージング環境 (本番と同等の構成)

**実行コマンド**:
```bash
# 開発環境
podman-compose down -v
podman-compose up --build

# ステージング環境
podman-compose -f docker-compose.prod.yml up --build
```

**テスト項目**:
1. **PR作成時の完全テストの全項目**
2. **負荷テスト**:
   - 同時に複数のブラウザタブでの操作
   - メモリリーク確認
3. **セキュリティテスト**:
   - XSS対策確認
   - 入力バリデーション
4. **運用テスト**:
   - コンテナ再起動時の挙動
   - エラー回復性
5. **統合テスト**:
   - アプリケーション全体との連携
   - ユーザー操作フロー全体

**所要時間**: 約3時間

**報告方法**:
- テスト結果をチームミーティングで共有
- 問題点と解決策を記録
- リリース判断の材料として使用

## テスト結果記録フォーマット

各テスト実施後、以下のフォーマットで結果を記録してください：

```markdown
## Docker コマンドシミュレーション テスト結果

### テスト情報
- 実施日時: YYYY-MM-DD HH:MM
- テスト種別: [基本/中間/完全/統合]
- テスト担当: [担当者名]
- 環境: [ブラウザ/OS]

### ビルド・起動確認
- ビルド結果: [成功/失敗]
- コンテナ起動: [成功/失敗]
- アプリケーション起動: [成功/失敗]

### 機能テスト結果
| 機能 | 結果 | 備考 |
| --- | --- | --- |
| docker ps | [OK/NG] | [備考] |
| docker images | [OK/NG] | [備考] |
| docker run | [OK/NG] | [備考] |
| ... | ... | ... |

### UI・インタラクション
- ターミナル表示: [OK/NG]
- コマンド履歴: [OK/NG]
- レベルアップ機能: [OK/NG]
- 状態管理連携: [OK/NG]

### 発見された問題点
1. [問題1の説明]
   - 重要度: [高/中/低]
   - 対応策: [対応策の説明]
2. [問題2の説明]
   - 重要度: [高/中/低]
   - 対応策: [対応策の説明]

### スクリーンショット
[テスト結果のスクリーンショットを添付]

### 結論
[テスト全体の結論と判断]
```

## 問題発生時の対応フロー

テスト中に問題が発生した場合の対応フローは以下の通りです：

1. **問題の記録**:
   - エラーメッセージ/スクリーンショット
   - 再現手順
   - 環境情報

2. **優先度判断**:
   - **高**: アプリケーションが起動しない、主要機能が使用できない
   - **中**: 一部機能が動作しない、UIの問題
   - **低**: 見た目の小さな問題、エッジケース

3. **報告**:
   - **高優先度**: ScrumMaster1に直ちに報告 + GitHub Issue作成
   - **中優先度**: GitHub Issueを作成し、日次ミーティングで報告
   - **低優先度**: GitHub Issueに記録

4. **修正作業**:
   - 優先度に応じてタスクを割り当て
   - 修正後に再テスト

## テスト環境構築手順

テスト環境の構築手順は以下の通りです：

```bash
# リポジトリのクローン
git clone [repository-url]
cd studyGIt

# 依存関係のインストール
npm install

# podman-composeで起動
podman-compose up --build
```

エラーが発生した場合は、以下の手順を試してください：

1. podman-compose が動いていない場合:
```bash
podman-compose down
podman system prune -a
podman-compose up --build
```

2. ネットワークエラーの場合:
```bash
podman network rm studygit_default
podman-compose up --build
```

3. ボリュームの問題が発生した場合:
```bash
podman-compose down -v
podman volume prune
podman-compose up --build
```

## まとめ

このテストスケジュールを厳格に守ることで、Docker コマンドシミュレーション機能の品質を継続的に確保します。テスト結果は必ず記録し、問題があれば迅速に共有・対応することで、プロジェクトの成功に貢献しましょう。