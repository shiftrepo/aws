spring:
  # Test Profile Configuration
  profiles:
    active: test

  # In-memory Database for Testing (H2)
  datasource:
    url: jdbc:h2:mem:testdb;MODE=PostgreSQL;DATABASE_TO_LOWER=TRUE
    username: sa
    password:
    driver-class-name: org.h2.Driver

  # JPA Configuration for Testing
  jpa:
    hibernate:
      ddl-auto: create-drop
    show-sql: true
    database-platform: org.hibernate.dialect.H2Dialect
    properties:
      hibernate:
        format_sql: true
        dialect: org.hibernate.dialect.H2Dialect

  # H2 Console for debugging (optional)
  h2:
    console:
      enabled: true
      path: /h2-console

  # Test Logging
  logging:
    level:
      com.example.employee: DEBUG
      org.springframework.test: DEBUG
      org.hibernate.SQL: DEBUG
      org.hibernate.type.descriptor.sql.BasicBinder: TRACE
      org.springframework.boot.test: DEBUG

# Test-specific settings
management:
  endpoints:
    web:
      exposure:
        include: health,info