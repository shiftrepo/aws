---
# ========================================
# Ansible Global Variables
# ========================================
# Auto-generated from environment.yml
# ========================================

# Load environment configuration
environment_config: "{{ lookup('file', playbook_dir + '/../config/environment.yml') | from_yaml }}"

# Network Configuration
public_ip: "{{ environment_config.network.public_ip | default(ansible_default_ipv4.address) }}"
private_ip: "{{ environment_config.network.private_ip | default(ansible_default_ipv4.address) }}"
domain: "{{ environment_config.network.domain | default('') }}"

# Port Configuration
ports: "{{ environment_config.ports }}"

# Directory Configuration
base_dir: "{{ environment_config.directories.base_dir | default(playbook_dir + '/..') }}"
data_dir: "{{ environment_config.directories.data_dir }}"
gitops_dir: "{{ environment_config.directories.gitops_dir }}"
kubectl_path: "{{ environment_config.directories.kubectl_path }}"

# Container Configuration
container_runtime: "{{ environment_config.containers.runtime }}"
container_network: "{{ environment_config.containers.network_name }}"
registry_url: "{{ environment_config.containers.registry.url }}"
registry_insecure: "{{ environment_config.containers.registry.insecure }}"

# Application Configuration
app_name: "{{ environment_config.application.name }}"
app_version: "{{ environment_config.application.version }}"
frontend_image: "{{ environment_config.application.frontend.image_name }}"
frontend_replicas: "{{ environment_config.application.frontend.replicas }}"
backend_image: "{{ environment_config.application.backend.image_name }}"
backend_replicas: "{{ environment_config.application.backend.replicas }}"

# Database Configuration
db_name: "{{ environment_config.database.name }}"
db_user: "{{ environment_config.database.user }}"
db_password: "{{ environment_config.database.password }}"
postgres_version: "{{ environment_config.database.postgres.version }}"

# Authentication Configuration
pgadmin_email: "{{ environment_config.authentication.pgadmin.email }}"
pgadmin_password: "{{ environment_config.authentication.pgadmin.password }}"
nexus_username: "{{ environment_config.authentication.nexus.username }}"
nexus_password: "{{ environment_config.authentication.nexus.password }}"

# Git Configuration
git_repo_url: "{{ environment_config.git.repository_url }}"
git_branch: "{{ environment_config.git.branch }}"
git_manifests_path: "{{ environment_config.git.manifests_path }}"
git_user_name: "{{ environment_config.git.user_name }}"
git_user_email: "{{ environment_config.git.user_email }}"

# ArgoCD Configuration
argocd_version: "{{ environment_config.argocd.version }}"
argocd_namespace: "{{ environment_config.argocd.namespace }}"
argocd_app_name: "{{ environment_config.argocd.application.name }}"
argocd_auto_sync: "{{ environment_config.argocd.application.auto_sync }}"
argocd_prune: "{{ environment_config.argocd.application.prune }}"
argocd_self_heal: "{{ environment_config.argocd.application.self_heal }}"

# Kubernetes Dashboard Configuration
dashboard_version: "{{ environment_config.kubernetes_dashboard.version }}"
dashboard_namespace: "{{ environment_config.kubernetes_dashboard.namespace }}"
dashboard_admin_user: "{{ environment_config.kubernetes_dashboard.admin_user }}"

# Nexus Configuration
nexus_version: "{{ environment_config.nexus.version }}"
nexus_repositories: "{{ environment_config.nexus.repositories }}"

# Feature Flags
argocd_enabled: "{{ environment_config.features.argocd_enabled }}"
dashboard_enabled: "{{ environment_config.features.dashboard_enabled }}"
nexus_enabled: "{{ environment_config.features.nexus_enabled }}"
monitoring_enabled: "{{ environment_config.features.monitoring_enabled }}"
backup_enabled: "{{ environment_config.features.backup_enabled }}"

# Firewall Configuration
firewall_enabled: "{{ environment_config.firewall.enabled }}"
firewall_service: "{{ environment_config.firewall.service }}"
firewall_public_ports: "{{ environment_config.firewall.public_ports }}"
firewall_private_ports: "{{ environment_config.firewall.private_ports }}"
