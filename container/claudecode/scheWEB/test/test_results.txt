===========================================
チームスケジューラー 包括的APIテスト結果
開始時刻: Sun Oct  5 01:20:14 PM UTC 2025
===========================================


========================================
1. 認証機能テスト
========================================
[TEST 1] 1-1. 新規ユーザー登録（testuser1）
✅ PASS
  結果: {
  "message": "User registered successfully"
}
[TEST 2] 1-2. 重複ユーザー登録試行（エラー期待）
✅ PASS
  結果: {
  "error": "Username already exists"
}
[TEST 3] 1-3. 不正な登録データ（start_time欠落）
✅ PASS
  結果: {
  "error": "Missing required fields: ['start_time']"
}
[TEST 4] 1-4. ログイン成功（testuser1）
✅ PASS
  結果: {
  "access_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJmcmVzaCI6ZmFsc2UsImlhdCI6MTc1OTY3MDQxNSwianRpIjoiMTFlMDU1ODMtODI3Yi00MjE2LThlNDUtYWUzZDgyMGQ2NzRjIiwidHlwZSI6ImFjY2VzcyIsInN1YiI6IjQiLCJuYmYiOjE3NTk2NzA0MTUsImNzcmYiOiIwNTQxZDI4Mi01N2MxLTQyNTAtYTUxNi0yNWIzZDVmOGZjMjIiLCJleHAiOjE3NTk3NTY4MTUsInVzZXJuYW1lIjoidGVzdHVzZXIxIn0.wABn3I3PxCuyL1GQhxaDTP9wFGUZRln-2czfBbgGrcM",
  "user": {
    "id": 4,
    "username": "testuser1"
  }
}
  トークン取得成功
[TEST 5] 1-5. ログイン失敗（間違ったパスワード）
✅ PASS
  結果: {
  "error": "Invalid credentials"
}
[TEST 6] 1-6. ログイン失敗（存在しないユーザー）
✅ PASS
  結果: {
  "error": "Invalid credentials"
}

========================================
2. 予定管理機能テスト
========================================
[TEST 7] 2-1. 予定追加（月曜 10:00-12:00）
✅ PASS
  結果: {
  "message": "Availability saved successfully"
}
[TEST 8] 2-2. 予定取得確認
✅ PASS
  結果: {
  "monday": [
    {
      "end": "12:00",
      "start": "10:00"
    }
  ]
}
  ✓ 月曜の予定: 10:00-12:00
[TEST 9] 2-3. 予定追加（火曜 複数時間帯）
✅ PASS
  結果: {
  "message": "Availability saved successfully"
}
[TEST 10] 2-4. 予定変更（月曜開始時刻 10:00→09:30）
✅ PASS
  結果: {
  "message": "Availability saved successfully"
}
  ✓ 開始時刻変更確認: 09:30
[TEST 11] 2-5. 予定変更（月曜終了時刻 12:00→13:00）
✅ PASS
  結果: {
  "message": "Availability saved successfully"
}
[TEST 12] 2-6. 予定追加（全曜日）
✅ PASS
  結果: {
  "message": "Availability saved successfully"
}
[TEST 13] 2-7. 予定削除（水曜日）
✅ PASS
  結果: {
  "message": "Availability saved successfully"
}
  ✓ 水曜日削除確認
[TEST 14] 2-8. 予定全削除
✅ PASS
  結果: {
  "message": "Availability saved successfully"
}

========================================
3. グリッドスケジュール機能テスト
========================================
[TEST 15] 3-1. グリッドスケジュール取得
✅ PASS
  結果: {
  "grid_mapping": [
    {
      "end": "08:30",
      "index": 0,
      "start": "08:00"
    },
    {
      "end": "09:00",
      "index": 1,
      "start": "08:30"
    },
    {
      "end": "09:30",
      "index": 2,
      "start": "09:00"
    },
    {
      "end": "10:00",
      "index": 3,
      "start": "09:30"
    },
    {
      "end": "10:30",
      "index": 4,
      "start": "10:00"
    },
    {
      "end": "11:00",
      "index": 5,
      "start": "10:30"
    },
    {
      "end": "11:30",
      "index": 6,
      "start": "11:00"
    },
    {
      "end": "12:00",
      "index": 7,
      "start": "11:30"
    },
    {
      "end": "12:30",
      "index": 8,
      "start": "12:00"
    },
    {
      "end": "13:00",
      "index": 9,
      "start": "12:30"
    },
    {
      "end": "13:30",
      "index": 10,
      "start": "13:00"
    },
    {
      "end": "14:00",
      "index": 11,
      "start": "13:30"
    },
    {
      "end": "14:30",
      "index": 12,
      "start": "14:00"
    },
    {
      "end": "15:00",
      "index": 13,
      "start": "14:30"
    },
    {
      "end": "15:30",
      "index": 14,
      "start": "15:00"
    },
    {
      "end": "16:00",
      "index": 15,
      "start": "15:30"
    },
    {
      "end": "16:30",
      "index": 16,
      "start": "16:00"
    },
    {
      "end": "17:00",
      "index": 17,
      "start": "16:30"
    },
    {
      "end": "17:30",
      "index": 18,
      "start": "17:00"
    },
    {
      "end": "18:00",
      "index": 19,
      "start": "17:30"
    }
  ],
  "grid_schedule": {
    "friday": [
      {
        "availability_percentage": 25.0,
        "available_users": [
          "user1"
        ],
        "end": "09:00",
        "grid_index": 1,
        "participant_count": 1,
        "start": "08:30",
        "unavailable_users": [
          "testuser1",
          "testuser2",
          "user2"
        ]
      },
      {
        "availability_percentage": 25.0,
        "available_users": [
          "user1"
        ],
        "end": "09:30",
        "grid_index": 2,
        "participant_count": 1,
        "start": "09:00",
        "unavailable_users": [
          "testuser1",
          "testuser2",
          "user2"
        ]
      },
      {
        "availability_percentage": 25.0,
        "available_users": [
          "user1"
        ],
        "end": "10:00",
        "grid_index": 3,
        "participant_count": 1,
        "start": "09:30",
        "unavailable_users": [
          "testuser1",
          "testuser2",
          "user2"
        ]
      },
      {
        "availability_percentage": 25.0,
        "available_users": [
          "user2"
        ],
        "end": "11:30",
        "grid_index": 6,
        "participant_count": 1,
        "start": "11:00",
        "unavailable_users": [
          "testuser1",
          "testuser2",
          "user1"
        ]
      },
      {
        "availability_percentage": 25.0,
        "available_users": [
          "user2"
        ],
        "end": "12:00",
        "grid_index": 7,
        "participant_count": 1,
        "start": "11:30",
        "unavailable_users": [
          "testuser1",
          "testuser2",
          "user1"
        ]
      },
      {
        "availability_percentage": 25.0,
        "available_users": [
          "user2"
        ],
        "end": "12:30",
        "grid_index": 8,
        "participant_count": 1,
        "start": "12:00",
        "unavailable_users": [
          "testuser1",
          "testuser2",
          "user1"
        ]
      },
      {
        "availability_percentage": 25.0,
        "available_users": [
          "user1"
        ],
        "end": "14:00",
        "grid_index": 11,
        "participant_count": 1,
        "start": "13:30",
        "unavailable_users": [
          "testuser1",
          "testuser2",
          "user2"
        ]
      },
      {
        "availability_percentage": 25.0,
        "available_users": [
          "user1"
        ],
        "end": "14:30",
        "grid_index": 12,
        "participant_count": 1,
        "start": "14:00",
        "unavailable_users": [
          "testuser1",
          "testuser2",
          "user2"
        ]
      },
      {
        "availability_percentage": 25.0,
        "available_users": [
          "user1"
        ],
        "end": "15:00",
        "grid_index": 13,
        "participant_count": 1,
        "start": "14:30",
        "unavailable_users": [
          "testuser1",
          "testuser2",
          "user2"
        ]
      },
      {
        "availability_percentage": 25.0,
        "available_users": [
          "user2"
        ],
        "end": "17:00",
        "grid_index": 17,
        "participant_count": 1,
        "start": "16:30",
        "unavailable_users": [
          "testuser1",
          "testuser2",
          "user1"
        ]
      },
      {
        "availability_percentage": 25.0,
        "available_users": [
          "user2"
        ],
        "end": "17:30",
        "grid_index": 18,
        "participant_count": 1,
        "start": "17:00",
        "unavailable_users": [
          "testuser1",
          "testuser2",
          "user1"
        ]
      }
    ],
    "monday": [
      {
        "availability_percentage": 25.0,
        "available_users": [
          "user1"
        ],
        "end": "09:00",
        "grid_index": 1,
        "participant_count": 1,
        "start": "08:30",
        "unavailable_users": [
          "testuser1",
          "testuser2",
          "user2"
        ]
      },
      {
        "availability_percentage": 25.0,
        "available_users": [
          "user1"
        ],
        "end": "09:30",
        "grid_index": 2,
        "participant_count": 1,
        "start": "09:00",
        "unavailable_users": [
          "testuser1",
          "testuser2",
          "user2"
        ]
      },
      {
        "availability_percentage": 50.0,
        "available_users": [
          "testuser1",
          "testuser2"
        ],
        "end": "10:30",
        "grid_index": 4,
        "participant_count": 2,
        "start": "10:00",
        "unavailable_users": [
          "user1",
          "user2"
        ]
      },
      {
        "availability_percentage": 75.0,
        "available_users": [
          "testuser1",
          "testuser2",
          "user2"
        ],
        "end": "11:00",
        "grid_index": 5,
        "participant_count": 3,
        "start": "10:30",
        "unavailable_users": [
          "user1"
        ]
      },
      {
        "availability_percentage": 50.0,
        "available_users": [
          "testuser1",
          "user2"
        ],
        "end": "11:30",
        "grid_index": 6,
        "participant_count": 2,
        "start": "11:00",
        "unavailable_users": [
          "testuser2",
          "user1"
        ]
      },
      {
        "availability_percentage": 50.0,
        "available_users": [
          "testuser1",
          "user2"
        ],
        "end": "12:00",
        "grid_index": 7,
        "participant_count": 2,
        "start": "11:30",
        "unavailable_users": [
          "testuser2",
          "user1"
        ]
      },
      {
        "availability_percentage": 25.0,
        "available_users": [
          "user1"
        ],
        "end": "13:30",
        "grid_index": 10,
        "participant_count": 1,
        "start": "13:00",
        "unavailable_users": [
          "testuser1",
          "testuser2",
          "user2"
        ]
      },
      {
        "availability_percentage": 50.0,
        "available_users": [
          "user1",
          "user2"
        ],
        "end": "14:00",
        "grid_index": 11,
        "participant_count": 2,
        "start": "13:30",
        "unavailable_users": [
          "testuser1",
          "testuser2"
        ]
      },
      {
        "availability_percentage": 25.0,
        "available_users": [
          "user2"
        ],
        "end": "14:30",
        "grid_index": 12,
        "participant_count": 1,
        "start": "14:00",
        "unavailable_users": [
          "testuser1",
          "testuser2",
          "user1"
        ]
      },
      {
        "availability_percentage": 25.0,
        "available_users": [
          "user1"
        ],
        "end": "16:00",
        "grid_index": 15,
        "participant_count": 1,
        "start": "15:30",
        "unavailable_users": [
          "testuser1",
          "testuser2",
          "user2"
        ]
      },
      {
        "availability_percentage": 25.0,
        "available_users": [
          "user1"
        ],
        "end": "16:30",
        "grid_index": 16,
        "participant_count": 1,
        "start": "16:00",
        "unavailable_users": [
          "testuser1",
          "testuser2",
          "user2"
        ]
      },
      {
        "availability_percentage": 25.0,
        "available_users": [
          "user1"
        ],
        "end": "17:00",
        "grid_index": 17,
        "participant_count": 1,
        "start": "16:30",
        "unavailable_users": [
          "testuser1",
          "testuser2",
          "user2"
        ]
      }
    ],
    "thursday": [
      {
        "availability_percentage": 25.0,
        "available_users": [
          "user2"
        ],
        "end": "09:30",
        "grid_index": 2,
        "participant_count": 1,
        "start": "09:00",
        "unavailable_users": [
          "testuser1",
          "testuser2",
          "user1"
        ]
      },
      {
        "availability_percentage": 25.0,
        "available_users": [
          "user2"
        ],
        "end": "10:00",
        "grid_index": 3,
        "participant_count": 1,
        "start": "09:30",
        "unavailable_users": [
          "testuser1",
          "testuser2",
          "user1"
        ]
      },
      {
        "availability_percentage": 25.0,
        "available_users": [
          "user1"
        ],
        "end": "12:00",
        "grid_index": 7,
        "participant_count": 1,
        "start": "11:30",
        "unavailable_users": [
          "testuser1",
          "testuser2",
          "user2"
        ]
      },
      {
        "availability_percentage": 25.0,
        "available_users": [
          "user1"
        ],
        "end": "12:30",
        "grid_index": 8,
        "participant_count": 1,
        "start": "12:00",
        "unavailable_users": [
          "testuser1",
          "testuser2",
          "user2"
        ]
      },
      {
        "availability_percentage": 25.0,
        "available_users": [
          "user1"
        ],
        "end": "13:00",
        "grid_index": 9,
        "participant_count": 1,
        "start": "12:30",
        "unavailable_users": [
          "testuser1",
          "testuser2",
          "user2"
        ]
      },
      {
        "availability_percentage": 25.0,
        "available_users": [
          "user2"
        ],
        "end": "14:30",
        "grid_index": 12,
        "participant_count": 1,
        "start": "14:00",
        "unavailable_users": [
          "testuser1",
          "testuser2",
          "user1"
        ]
      },
      {
        "availability_percentage": 25.0,
        "available_users": [
          "user2"
        ],
        "end": "15:00",
        "grid_index": 13,
        "participant_count": 1,
        "start": "14:30",
        "unavailable_users": [
          "testuser1",
          "testuser2",
          "user1"
        ]
      },
      {
        "availability_percentage": 25.0,
        "available_users": [
          "user2"
        ],
        "end": "15:30",
        "grid_index": 14,
        "participant_count": 1,
        "start": "15:00",
        "unavailable_users": [
          "testuser1",
          "testuser2",
          "user1"
        ]
      }
    ],
    "tuesday": [
      {
        "availability_percentage": 25.0,
        "available_users": [
          "user2"
        ],
        "end": "09:00",
        "grid_index": 1,
        "participant_count": 1,
        "start": "08:30",
        "unavailable_users": [
          "testuser1",
          "testuser2",
          "user1"
        ]
      },
      {
        "availability_percentage": 25.0,
        "available_users": [
          "user2"
        ],
        "end": "09:30",
        "grid_index": 2,
        "participant_count": 1,
        "start": "09:00",
        "unavailable_users": [
          "testuser1",
          "testuser2",
          "user1"
        ]
      },
      {
        "availability_percentage": 25.0,
        "available_users": [
          "user1"
        ],
        "end": "11:00",
        "grid_index": 5,
        "participant_count": 1,
        "start": "10:30",
        "unavailable_users": [
          "testuser1",
          "testuser2",
          "user2"
        ]
      },
      {
        "availability_percentage": 25.0,
        "available_users": [
          "user1"
        ],
        "end": "11:30",
        "grid_index": 6,
        "participant_count": 1,
        "start": "11:00",
        "unavailable_users": [
          "testuser1",
          "testuser2",
          "user2"
        ]
      },
      {
        "availability_percentage": 50.0,
        "available_users": [
          "user1",
          "user2"
        ],
        "end": "12:00",
        "grid_index": 7,
        "participant_count": 2,
        "start": "11:30",
        "unavailable_users": [
          "testuser1",
          "testuser2"
        ]
      },
      {
        "availability_percentage": 25.0,
        "available_users": [
          "user2"
        ],
        "end": "12:30",
        "grid_index": 8,
        "participant_count": 1,
        "start": "12:00",
        "unavailable_users": [
          "testuser1",
          "testuser2",
          "user1"
        ]
      },
      {
        "availability_percentage": 25.0,
        "available_users": [
          "user2"
        ],
        "end": "13:00",
        "grid_index": 9,
        "participant_count": 1,
        "start": "12:30",
        "unavailable_users": [
          "testuser1",
          "testuser2",
          "user1"
        ]
      },
      {
        "availability_percentage": 25.0,
        "available_users": [
          "user1"
        ],
        "end": "14:00",
        "grid_index": 11,
        "participant_count": 1,
        "start": "13:30",
        "unavailable_users": [
          "testuser1",
          "testuser2",
          "user2"
        ]
      },
      {
        "availability_percentage": 50.0,
        "available_users": [
          "testuser1",
          "user1"
        ],
        "end": "14:30",
        "grid_index": 12,
        "participant_count": 2,
        "start": "14:00",
        "unavailable_users": [
          "testuser2",
          "user2"
        ]
      },
      {
        "availability_percentage": 50.0,
        "available_users": [
          "testuser1",
          "user1"
        ],
        "end": "15:00",
        "grid_index": 13,
        "participant_count": 2,
        "start": "14:30",
        "unavailable_users": [
          "testuser2",
          "user2"
        ]
      },
      {
        "availability_percentage": 50.0,
        "available_users": [
          "testuser1",
          "testuser2"
        ],
        "end": "15:30",
        "grid_index": 14,
        "participant_count": 2,
        "start": "15:00",
        "unavailable_users": [
          "user1",
          "user2"
        ]
      },
      {
        "availability_percentage": 50.0,
        "available_users": [
          "testuser1",
          "testuser2"
        ],
        "end": "16:00",
        "grid_index": 15,
        "participant_count": 2,
        "start": "15:30",
        "unavailable_users": [
          "user1",
          "user2"
        ]
      },
      {
        "availability_percentage": 25.0,
        "available_users": [
          "testuser2"
        ],
        "end": "16:30",
        "grid_index": 16,
        "participant_count": 1,
        "start": "16:00",
        "unavailable_users": [
          "testuser1",
          "user1",
          "user2"
        ]
      },
      {
        "availability_percentage": 25.0,
        "available_users": [
          "testuser2"
        ],
        "end": "17:00",
        "grid_index": 17,
        "participant_count": 1,
        "start": "16:30",
        "unavailable_users": [
          "testuser1",
          "user1",
          "user2"
        ]
      }
    ],
    "wednesday": [
      {
        "availability_percentage": 25.0,
        "available_users": [
          "user1"
        ],
        "end": "09:30",
        "grid_index": 2,
        "participant_count": 1,
        "start": "09:00",
        "unavailable_users": [
          "testuser1",
          "testuser2",
          "user2"
        ]
      },
      {
        "availability_percentage": 25.0,
        "available_users": [
          "user1"
        ],
        "end": "10:00",
        "grid_index": 3,
        "participant_count": 1,
        "start": "09:30",
        "unavailable_users": [
          "testuser1",
          "testuser2",
          "user2"
        ]
      },
      {
        "availability_percentage": 50.0,
        "available_users": [
          "user1",
          "user2"
        ],
        "end": "10:30",
        "grid_index": 4,
        "participant_count": 2,
        "start": "10:00",
        "unavailable_users": [
          "testuser1",
          "testuser2"
        ]
      },
      {
        "availability_percentage": 25.0,
        "available_users": [
          "user2"
        ],
        "end": "11:00",
        "grid_index": 5,
        "participant_count": 1,
        "start": "10:30",
        "unavailable_users": [
          "testuser1",
          "testuser2",
          "user1"
        ]
      },
      {
        "availability_percentage": 25.0,
        "available_users": [
          "user2"
        ],
        "end": "11:30",
        "grid_index": 6,
        "participant_count": 1,
        "start": "11:00",
        "unavailable_users": [
          "testuser1",
          "testuser2",
          "user1"
        ]
      },
      {
        "availability_percentage": 25.0,
        "available_users": [
          "user1"
        ],
        "end": "14:30",
        "grid_index": 12,
        "participant_count": 1,
        "start": "14:00",
        "unavailable_users": [
          "testuser1",
          "testuser2",
          "user2"
        ]
      },
      {
        "availability_percentage": 25.0,
        "available_users": [
          "user1"
        ],
        "end": "15:00",
        "grid_index": 13,
        "participant_count": 1,
        "start": "14:30",
        "unavailable_users": [
          "testuser1",
          "testuser2",
          "user2"
        ]
      },
      {
        "availability_percentage": 25.0,
        "available_users": [
          "user1"
        ],
        "end": "15:30",
        "grid_index": 14,
        "participant_count": 1,
        "start": "15:00",
        "unavailable_users": [
          "testuser1",
          "testuser2",
          "user2"
        ]
      },
      {
        "availability_percentage": 25.0,
        "available_users": [
          "user1"
        ],
        "end": "16:00",
        "grid_index": 15,
        "participant_count": 1,
        "start": "15:30",
        "unavailable_users": [
          "testuser1",
          "testuser2",
          "user2"
        ]
      },
      {
        "availability_percentage": 25.0,
        "available_users": [
          "user2"
        ],
        "end": "17:00",
        "grid_index": 17,
        "participant_count": 1,
        "start": "16:30",
        "unavailable_users": [
          "testuser1",
          "testuser2",
          "user1"
        ]
      },
      {
        "availability_percentage": 25.0,
        "available_users": [
          "user2"
        ],
        "end": "17:30",
        "grid_index": 18,
        "participant_count": 1,
        "start": "17:00",
        "unavailable_users": [
          "testuser1",
          "testuser2",
          "user1"
        ]
      }
    ]
  },
  "time_grid_info": {
    "end_time": "19:00",
    "slot_duration": 30,
    "start_time": "07:00",
    "total_slots": 20
  },
  "total_users": 4
}
  ✓ 月曜10:00-10:30の参加者数: 2人
[TEST 16] 3-3. 全ユーザーavailability取得
✅ PASS
  結果: [
  {
    "availability": {
      "monday": [
        {
          "end": "12:00",
          "start": "10:00"
        }
      ],
      "tuesday": [
        {
          "end": "16:00",
          "start": "14:00"
        }
      ]
    },
    "id": 4,
    "username": "testuser1",
    "work_hours": {
      "end": "18:00",
      "start": "09:00"
    }
  },
  {
    "availability": {
      "monday": [
        {
          "end": "11:00",
          "start": "10:00"
        }
      ],
      "tuesday": [
        {
          "end": "17:00",
          "start": "15:00"
        }
      ]
    },
    "id": 5,
    "username": "testuser2",
    "work_hours": {
      "end": "18:00",
      "start": "09:00"
    }
  },
  {
    "availability": {
      "friday": [
        {
          "end": "10:00",
          "start": "08:30"
        },
        {
          "end": "15:00",
          "start": "13:30"
        }
      ],
      "monday": [
        {
          "end": "09:30",
          "start": "08:30"
        },
        {
          "end": "14:00",
          "start": "13:00"
        },
        {
          "end": "17:00",
          "start": "15:30"
        }
      ],
      "thursday": [
        {
          "end": "13:00",
          "start": "11:30"
        }
      ],
      "tuesday": [
        {
          "end": "12:00",
          "start": "10:30"
        },
        {
          "end": "15:00",
          "start": "13:30"
        }
      ],
      "wednesday": [
        {
          "end": "10:30",
          "start": "09:00"
        },
        {
          "end": "16:00",
          "start": "14:00"
        }
      ]
    },
    "id": 2,
    "username": "user1",
    "work_hours": {
      "end": "17:30",
      "start": "09:30"
    }
  },
  {
    "availability": {
      "friday": [
        {
          "end": "12:30",
          "start": "11:00"
        },
        {
          "end": "17:30",
          "start": "16:30"
        }
      ],
      "monday": [
        {
          "end": "12:00",
          "start": "10:30"
        },
        {
          "end": "14:30",
          "start": "13:30"
        }
      ],
      "thursday": [
        {
          "end": "10:00",
          "start": "09:00"
        },
        {
          "end": "15:30",
          "start": "14:00"
        }
      ],
      "tuesday": [
        {
          "end": "09:30",
          "start": "08:30"
        },
        {
          "end": "13:00",
          "start": "11:30"
        }
      ],
      "wednesday": [
        {
          "end": "11:30",
          "start": "10:00"
        },
        {
          "end": "17:30",
          "start": "16:30"
        }
      ]
    },
    "id": 3,
    "username": "user2",
    "work_hours": {
      "end": "17:00",
      "start": "08:30"
    }
  }
]

========================================
4. セッション永続性テスト
========================================
[TEST 17] 4-1. 再ログイン成功
✅ PASS
  結果: {
  "access_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJmcmVzaCI6ZmFsc2UsImlhdCI6MTc1OTY3MDQxNiwianRpIjoiNTViMzk0ZDEtYjY0ZC00MTA2LWE3MDctZDM4NDlmYzA1OWU3IiwidHlwZSI6ImFjY2VzcyIsInN1YiI6IjQiLCJuYmYiOjE3NTk2NzA0MTYsImNzcmYiOiJhMDU2YmUxMi00OTZjLTRlNGItYmQ1Zi05MjhkYmY2NjgzYzkiLCJleHAiOjE3NTk3NTY4MTYsInVzZXJuYW1lIjoidGVzdHVzZXIxIn0.nicbz8jcnbjSkkSFFSPdF-PI6lw8s-kmzQQmG7ly8tI",
  "user": {
    "id": 4,
    "username": "testuser1"
  }
}
[TEST 18] 4-2. 再ログイン後の予定取得
✅ PASS
  結果: {
  "monday": [
    {
      "end": "12:00",
      "start": "10:00"
    }
  ],
  "tuesday": [
    {
      "end": "16:00",
      "start": "14:00"
    }
  ]
}
  ✓ 予定が正しく保持されている

========================================
5. Admin機能テスト
========================================
[TEST 19] 5-1. 全ユーザーリスト取得（Admin）
✅ PASS
  結果: {
  "users": [
    {
      "created_at": "2025-10-05T13:20:15.940402",
      "end_time": "18:00",
      "id": 5,
      "start_time": "09:00",
      "username": "testuser2"
    },
    {
      "created_at": "2025-10-05T13:20:14.810495",
      "end_time": "18:00",
      "id": 4,
      "start_time": "09:00",
      "username": "testuser1"
    },
    {
      "created_at": "2025-10-05 13:19:36",
      "end_time": "17:00",
      "id": 3,
      "start_time": "08:30",
      "username": "user2"
    },
    {
      "created_at": "2025-10-05 13:19:35",
      "end_time": "17:30",
      "id": 2,
      "start_time": "09:30",
      "username": "user1"
    }
  ]
}
  登録ユーザー数: 4
[TEST 20] 5-2. ユーザー削除（testuser2）
✅ PASS
  結果: {
  "message": "User 'testuser2' deleted successfully"
}
  ✓ testuser2削除確認
[TEST 21] 5-4. データエクスポート
✅ PASS
  結果: {
  "availability": [
    {
      "created_at": "2025-10-05 13:19:36",
      "day_of_week": "friday",
      "end_time": "10:00",
      "id": 21,
      "start_time": "08:30",
      "user_id": 2,
      "username": "user1"
    },
    {
      "created_at": "2025-10-05 13:19:36",
      "day_of_week": "friday",
      "end_time": "15:00",
      "id": 22,
      "start_time": "13:30",
      "user_id": 2,
      "username": "user1"
    },
    {
      "created_at": "2025-10-05 13:19:36",
      "day_of_week": "monday",
      "end_time": "09:30",
      "id": 13,
      "start_time": "08:30",
      "user_id": 2,
      "username": "user1"
    },
    {
      "created_at": "2025-10-05 13:19:36",
      "day_of_week": "monday",
      "end_time": "14:00",
      "id": 14,
      "start_time": "13:00",
      "user_id": 2,
      "username": "user1"
    },
    {
      "created_at": "2025-10-05 13:19:36",
      "day_of_week": "monday",
      "end_time": "17:00",
      "id": 15,
      "start_time": "15:30",
      "user_id": 2,
      "username": "user1"
    },
    {
      "created_at": "2025-10-05 13:19:36",
      "day_of_week": "thursday",
      "end_time": "13:00",
      "id": 20,
      "start_time": "11:30",
      "user_id": 2,
      "username": "user1"
    },
    {
      "created_at": "2025-10-05 13:19:36",
      "day_of_week": "tuesday",
      "end_time": "12:00",
      "id": 16,
      "start_time": "10:30",
      "user_id": 2,
      "username": "user1"
    },
    {
      "created_at": "2025-10-05 13:19:36",
      "day_of_week": "tuesday",
      "end_time": "15:00",
      "id": 17,
      "start_time": "13:30",
      "user_id": 2,
      "username": "user1"
    },
    {
      "created_at": "2025-10-05 13:19:36",
      "day_of_week": "wednesday",
      "end_time": "10:30",
      "id": 18,
      "start_time": "09:00",
      "user_id": 2,
      "username": "user1"
    },
    {
      "created_at": "2025-10-05 13:19:36",
      "day_of_week": "wednesday",
      "end_time": "16:00",
      "id": 19,
      "start_time": "14:00",
      "user_id": 2,
      "username": "user1"
    },
    {
      "created_at": "2025-10-05 13:19:36",
      "day_of_week": "friday",
      "end_time": "12:30",
      "id": 31,
      "start_time": "11:00",
      "user_id": 3,
      "username": "user2"
    },
    {
      "created_at": "2025-10-05 13:19:36",
      "day_of_week": "friday",
      "end_time": "17:30",
      "id": 32,
      "start_time": "16:30",
      "user_id": 3,
      "username": "user2"
    },
    {
      "created_at": "2025-10-05 13:19:36",
      "day_of_week": "monday",
      "end_time": "12:00",
      "id": 23,
      "start_time": "10:30",
      "user_id": 3,
      "username": "user2"
    },
    {
      "created_at": "2025-10-05 13:19:36",
      "day_of_week": "monday",
      "end_time": "14:30",
      "id": 24,
      "start_time": "13:30",
      "user_id": 3,
      "username": "user2"
    },
    {
      "created_at": "2025-10-05 13:19:36",
      "day_of_week": "thursday",
      "end_time": "10:00",
      "id": 29,
      "start_time": "09:00",
      "user_id": 3,
      "username": "user2"
    },
    {
      "created_at": "2025-10-05 13:19:36",
      "day_of_week": "thursday",
      "end_time": "15:30",
      "id": 30,
      "start_time": "14:00",
      "user_id": 3,
      "username": "user2"
    },
    {
      "created_at": "2025-10-05 13:19:36",
      "day_of_week": "tuesday",
      "end_time": "09:30",
      "id": 25,
      "start_time": "08:30",
      "user_id": 3,
      "username": "user2"
    },
    {
      "created_at": "2025-10-05 13:19:36",
      "day_of_week": "tuesday",
      "end_time": "13:00",
      "id": 26,
      "start_time": "11:30",
      "user_id": 3,
      "username": "user2"
    },
    {
      "created_at": "2025-10-05 13:19:36",
      "day_of_week": "wednesday",
      "end_time": "11:30",
      "id": 27,
      "start_time": "10:00",
      "user_id": 3,
      "username": "user2"
    },
    {
      "created_at": "2025-10-05 13:19:36",
      "day_of_week": "wednesday",
      "end_time": "17:30",
      "id": 28,
      "start_time": "16:30",
      "user_id": 3,
      "username": "user2"
    },
    {
      "created_at": "2025-10-05T13:20:16.254668",
      "day_of_week": "monday",
      "end_time": "12:00",
      "id": 52,
      "start_time": "10:00",
      "user_id": 4,
      "username": "testuser1"
    },
    {
      "created_at": "2025-10-05T13:20:16.254824",
      "day_of_week": "tuesday",
      "end_time": "16:00",
      "id": 53,
      "start_time": "14:00",
      "user_id": 4,
      "username": "testuser1"
    }
  ],
  "export_info": {
    "exported_by": "admin",
    "timestamp": "2025-10-05T13:20:17.009028",
    "version": "v2.1.24"
  },
  "statistics": {
    "total_availability_records": 22,
    "total_users": 3
  },
  "users": [
    {
      "created_at": "2025-10-05 13:19:35",
      "end_time": "17:30",
      "id": 2,
      "password": "admin123",
      "start_time": "09:30",
      "username": "user1"
    },
    {
      "created_at": "2025-10-05 13:19:36",
      "end_time": "17:00",
      "id": 3,
      "password": "admin123",
      "start_time": "08:30",
      "username": "user2"
    },
    {
      "created_at": "2025-10-05T13:20:14.810495",
      "end_time": "18:00",
      "id": 4,
      "password": "admin123",
      "start_time": "09:00",
      "username": "testuser1"
    }
  ]
}
  エクスポートユーザー数: 3

========================================
6. LLM分析機能テスト
========================================
[TEST 22] 6-1. LLM分析実行
✅ PASS
  結果: {
  "statistics": {
    "avg_participation_rate": 66.7,
    "max_participation_rate": 66.7,
    "total_meeting_slots": 8,
    "users_with_availability": 2
  },
  "success": true,
  "timestamp": "2025-10-05T13:20:17.322404",
  "top_candidates": [
    {
      "availability_percentage": 66.7,
      "available_users": [
        "testuser1",
        "user2"
      ],
      "consecutive_slots": 3,
      "day": "monday",
      "day_japanese": "\u6708\u66dc\u65e5",
      "duration": 90,
      "end": "12:00",
      "grid_index": 7,
      "participant_count": 2,
      "start": "10:30",
      "total_users": 3,
      "unavailable_users": [
        "user1"
      ]
    },
    {
      "availability_percentage": 66.7,
      "available_users": [
        "testuser1",
        "user1"
      ],
      "consecutive_slots": 2,
      "day": "tuesday",
      "day_japanese": "\u706b\u66dc\u65e5",
      "duration": 60,
      "end": "15:00",
      "grid_index": 14,
      "participant_count": 2,
      "start": "14:00",
      "total_users": 3,
      "unavailable_users": [
        "user2"
      ]
    },
    {
      "availability_percentage": 66.7,
      "available_users": [
        "user1",
        "user2"
      ],
      "consecutive_slots": 1,
      "day": "wednesday",
      "day_japanese": "\u6c34\u66dc\u65e5",
      "duration": 30,
      "end": "10:30",
      "grid_index": 6,
      "participant_count": 2,
      "start": "10:00",
      "total_users": 3,
      "unavailable_users": [
        "testuser1"
      ]
    },
    {
      "availability_percentage": 66.7,
      "available_users": [
        "user1",
        "user2"
      ],
      "consecutive_slots": 1,
      "day": "tuesday",
      "day_japanese": "\u706b\u66dc\u65e5",
      "duration": 30,
      "end": "12:00",
      "grid_index": 9,
      "participant_count": 2,
      "start": "11:30",
      "total_users": 3,
      "unavailable_users": [
        "testuser1"
      ]
    }
  ],
  "total_candidates": 8,
  "total_users": 3
}
  会議候補数: 4

========================================
7. エッジケース・境界値テスト
========================================
[TEST 23] 7-1. 最小時間帯（8:00-8:30）
✅ PASS
  結果: {
  "message": "Availability saved successfully"
}
[TEST 24] 7-2. 最大時間帯（17:30-18:00）
✅ PASS
  結果: {
  "message": "Availability saved successfully"
}
[TEST 25] 7-3. 連続時間帯（9:00-12:00を30分刻み）
✅ PASS
  結果: {
  "message": "Availability saved successfully"
}
[TEST 26] 7-4. 空の予定データ
✅ PASS
  結果: {
  "message": "Availability saved successfully"
}
[TEST 27] 7-5. 不正な認証トークン（401エラー期待）
❌ FAIL
  期待パターン: 401
  実際の結果: 422
  終了コード: 0

========================================
テスト結果サマリー
========================================
総テスト数: 27
成功: 26
失敗: 1
カバレッジ: 96.30%

⚠️  一部のテストが失敗しました
終了時刻: Sun Oct  5 01:20:17 PM UTC 2025
