server:
  port: 8080

spring:
  application:
    name: sample-app-backend

  datasource:
    # ⚠️ 本番環境: 環境変数 SPRING_DATASOURCE_URL で上書きされる
    # CI/CD: export SPRING_DATASOURCE_URL=jdbc:postgresql://${EC2_PUBLIC_IP}:5001/sampledb
    # Local: localhost:5001 でローカルPostgreSQLコンテナに接続
    url: jdbc:postgresql://localhost:5001/sampledb
    username: sampleuser
    password: Degital2026!
    driver-class-name: org.postgresql.Driver

  jpa:
    hibernate:
      ddl-auto: validate
    show-sql: false
    properties:
      hibernate:
        dialect: org.hibernate.dialect.PostgreSQLDialect
        format_sql: true

  flyway:
    enabled: true
    locations: classpath:db/migration
    baseline-on-migrate: true

logging:
  level:
    com.example.backend: INFO
    org.hibernate.SQL: DEBUG
    org.hibernate.type.descriptor.sql.BasicBinder: TRACE